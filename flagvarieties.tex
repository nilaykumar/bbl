\chapter{Flag Varieties}

\blurb{We introduce the notion of the flag variety $X$ associated to a semisimple linear algebraic
    group $G$ and outline some of its basic geometric properties. $G$-equivariant vector
    bundles on $X$ are of special interest, as their cohomologies relate to representations of $G$
    via a theorem due to Borel--Weil--Bott.}


\section{The flag variety of $G$}

We begin by reviewing some basic ideas from algebraic geometry: the construction
of the Grassmanian and the flag variety of a vector space.

\begin{definition}
    Let $V$ be an $n$-dimensional complex vector space. We define the \textbf{Grassmanian} $\Gr(d,V)$
    to be the set of $d$-dimensional subspaces of $V$. The following result shows that $\Gr(d,V)$ is,
    in fact, a projective variety.
\end{definition}

\begin{proposition}
    The set $\Gr(d,V)$ has the structure of a projective variety.
\end{proposition}
\begin{proof}
    Define the map $f:\Gr(d,V)\to\PP(\bigwedge^dV)$ as taking any $d$-dimensional subspace $W\subset V$ to the
    line $\bigwedge^d W\subset \bigwedge^dV$. More explicitly, if we fix a basis $v_1,\ldots, v_d$ for $W$,
    we find that $f(W)=[v_1\wedge\cdots\wedge v_d]$. Now it suffices to show that $f$ is injective with closed image.

    Injectivity is straightforward: suppose $W,W'\subset V$ are a pair of $d$-dimensional subspaces of $V$
    with bases $v_1,\ldots,v_d$ and $v_1',\ldots,v_d'$ respectively. If $f(W)=f(W')$, we must have that
    \[v_1\wedge\cdots\wedge v_d=\lambda v_1'\wedge\cdots\wedge v_d'\]
    for some $\lambda\in\C.$ This implies
    that $W=W'$, since $W$ (resp. $W'$) is exactly the set of vectors $w\in V$ (resp. $w'\in V$) satisfying
    $w\wedge v_1\wedge\cdots\wedge v_d=0$ (resp. $w'\wedge v_1'\wedge\cdots\wedge v_d'=0$).

    To show that the image of $f$ is closed, we first remark that the image of $f$ is (up to scaling) the subset
    of totally decomposable vectors in $\bigwedge^dV$: wedge products $v_1\wedge\cdots\wedge v_d$
    of $d$ linear factors $v_i\in V$. It is easy to see that $\omega\in\bigwedge^dV$ is totally decomposable if
    and only if the space of vectors $v$ dividing it, i.e. $v\wedge\omega=0$, is $d$-dimensional.
    Hence $[\omega]$ is in the image of $f$ if and only if the map $\cdot\wedge\omega:V\to \bigwedge^{d+1}V$
    taking $v\mapsto v\wedge \omega$ is of rank $n-d$. But since $\omega\in\bigwedge^dV$ can never
    be divisble by more than $d$ linearly independent vectors of $V$, the rank of $\cdot\wedge\omega$
    is always $\geqslant n-d$. Thus
    \[ [\omega]\in\im f\text{ im and only if }\rk(\cdot\wedge\omega)\leqslant n-d.\]
    Thus $\Gr(d,V)=\im f$ is determined by the vanishing of the determinants of $(n-d+1)\times(n-d+1)$ minors
    of the matrix $\cdot\wedge\omega\in\Hom(V,\bigwedge^{d+1}V)$.
    Since the map $\omega\mapsto \cdot\wedge\omega$ is linear, the matrix elements of $\cdot\wedge\omega$
    are linear in coordinates of $\bigwedge^dV$, and hence the determinants are homogeneous, degree $(n-d+1)$
    polynomials in the coordinates of $\bigwedge^dV$. This shows that $\Gr(d,V)$ is indeed
    Zariski-closed in $\PP(\bigwedge^dV)$.
\end{proof}

\begin{definition}
    Let $V$ be an $n$-dimensional complex vector space. We define a $k$-\textbf{flag}
    in $V$ to be a sequence of proper inclusions of subspaces
    \[\{0\}=V_0 \subset V_1 \subset \cdots \subset V_k=V.\]
    We say that $d_I=(\dim V_1,\ldots,\dim V_k)$ is the \textbf{signature} of the flag.
    We define the \textbf{flag variety} $\Fl(d_I,V)$ to be the set of all $k$-flags in $V$ with signature $d_I$.
\end{definition}

\begin{remark}
    An oft-used special case is that of the \textbf{complete flag variety} $\Fl(V)=\Fl( (1,\ldots,n), V)$.
\end{remark}

\begin{proposition}
    The set $\Fl(d_I,V)$ has the structure of a projective variety.\sidenote{Reference: Morandi's notes}
\end{proposition}
\begin{proof}
    We can write
    \[\Fl(d_I,V)=\{(V_1, \cdots,V_k)\in\Gr(d_1,V)\times\cdots\times\Gr(d_k,V) \mid V_{i}\subset V_{i+1}\}.\]
    To prove that $\Fl(d_I,V)$ is a subvariety of the product of Grassmannians,
    it suffices to show that $\{(W_1,W_2)\in\Gr(d_1,V)\times\Gr(d_2,V) \mid W_1\subset W_2\}$ is closed
    in $\Gr(d_1,V)\times\Gr(d_2,V)$ where $d_1<d_2$. The set $\Fl(d_I,V)$ is then simply the intersection
    of such sets.
    
    Let $v_1,\ldots, v_{d_1}$ be a basis for $W_1$
    and $v_1',\ldots, v_{d_2}'$ be a basis for $W_2$ and write $\omega_1=v_1\wedge\cdots\wedge v_{d_1}$
    and $\omega_2=v_1'\wedge\cdots\wedge v_{d_2}'$. As in the proof above, we consider the map
    $\phi:\cdot\wedge\omega_1\oplus\cdot\wedge\omega_2:V\to \bigwedge^{d_1+1}V\oplus\bigwedge^{d_2+1}V$.
    By definition, $\ker(\cdot\wedge\omega_1)=W_1$ and $\ker(\cdot\wedge\omega_2)=W_2$, so
    $\ker\phi=W_1\cap W_2$. The rank-nullity theorem now yields
    \begin{align*}
        \rk\phi &= \dim V - \dim\left( \ker\phi \right)\\
        &= \dim V - \dim(W_1\cap W_2)\\
        &\geqslant \dim V - \dim W_1.
    \end{align*}
    Furthermore, we have $W_1\subset W_2$ if and only if $W_1\cap W_2=W_1$, from which we conclude that
    $W_1\subset W_2$ if and only if $\rk\phi\leqslant\dim V-\dim W_1$. Now the argument
    from the previous proof -- that the determinant of certain minors of the matrix of $\phi$ yields
    homogeneous polynomials whose vanishing characterizes the rank condition -- completes
    the proof.
\end{proof}

\begin{example}
    \label{ex:flag}
    Consider the action of $\SL_2$ on $\PP^1$, with homogeneous coordinates $[z_1:z_2]$,
    given by $g[z_1:z_2]=[g_{11}z_1+g_{12}z_2:g_{21}z_1+g_{22}z_2]$. It is easy to check
    that the stabilizer of the point $[1:0]$ is the set of all upper diagonal matrices in
    $\SL_2$. This is precisely the Borel subgroup $B$ of $\SL_2$.\sidenote{make sure the
    Borel subgroup has been introduced, and explain this claim.} Moreover, the orbit of $[1:0]$
    is clearly the whole variety $\PP^1$. Hence we obtain a bijection between the $\SL_2/B$ of
    cosets and $\PP^1$, which endows $\SL_2/B$ the structure of the complete flag variety
    $\Fl(\C^2)\cong\PP^1$.

    More generally, consider the natural action of $\SL_n$ on the complete flag variety
    $\Fl(\C^n)$ as
    \[g(V_1,\ldots, V_n) = (gV_1,\ldots, gV_n)\]
    for any complete flag $(V_1,\ldots,V_n)$. This action is transitive. Let $(W_1,\ldots,W_n)$ be
    any other complete flag and $\{v_1,\ldots,v_n\}\subset \C^n$ such that for each $i\leqslant n$
    the first $i$ vectors form a basis for $V_i$, and $\{w_1,\ldots,w_n\}\subset \C^n$ such that
    for each $i\leqslant n$ the first $i$ vectors form a basis for $W_i$. Then there exists
    a $\tilde g\in\GL_n$ such that $\tilde gv_i=w_i$. Dividing $g=\tilde g/\det \tilde g$,
    we find $g\in\SL_n$ taking $(V_1,\ldots,V_n)$ to $(W_1,\ldots,W_n)$. Now consider the
    complete flag determined by the basis vectors $\{v_1,\ldots,v_n\}$ of $\C^n$. A bit of algebra
    shows that the stabilizer of this flag is the Borel subgroup $B$ of upper diagonal
    matrices. Hence the coset space $\SL_n/B$ has the structure of the complete flag variety
    $\Fl(\C^n)$.
\end{example}

\begin{remark}
    Even more generally, one obtains not-necessarily complete, partial flag varieties
    from quotients of the form $\SL_n/P$ where $P$ is the subgroup of block-diagonal
    matrices with block sizes corresponding to the signature of the flag variety.
    \sidenote{Is this true? Also: perhaps we should mention something about roots and choice of simple
    roots in these examples? Of course, the results are independent.} These subgroups
    are examples of parabolic subgroups.
\end{remark}

In light of Example \ref{ex:flag}, the following result from the theory of
semisimple linear algebraic groups is important.

\begin{theorem}\hspace{1mm}
    \begin{enumerate}[(i)]
        \item All Borel subgroups of $G$ are conjugate. In other words, for any pair
            $B_1,B_2$ of Borel subgroups of $G$, there exists $g\in G$ such that
            $gB_1g^{-1}=B_2$.
        \item The normalizer of a Borel subgroup $B$ of $G$ is $B$ itself.
        \item The coset space $G/B$ has the structure of a projective variety.
    \end{enumerate}
    \label{thm:borel}
\end{theorem}
\begin{proof}
    See Borel\sidenote{find references for this}
\end{proof}

\begin{definition}
    The \textbf{flag variety of} $G$ is the projective variety $G/B$.
\end{definition}

\begin{proposition}
    The set $X$ of all Borel subgroups of $G$ has the structure of an algebraic
    variety such that $X\cong G/B$.
\end{proposition}
\begin{proof}
    Theorem \ref{thm:borel} shows that the conjugation action of $G$ on $X$ is transitive
    and that the stabilizer of any Borel subgroup $B$ is $B$ itself. Hence $X\cong G/B$ as
    sets, so we can endow $X$ with the structure of a projective algebraic variety.
\end{proof}

\begin{remark}
    We could alternatively define $X$ to be the set of all Borel subalgebras $\fr b$ of $G$,
    and prove statements analogous to
    %\textit{(i)} and \textit{(ii)} of
    Theorem \ref{thm:borel}
    via the adjoint action of $G$ on Borels $\fr b\subset\fr g$ (reference Humphreys\sidenote{find this reference}).
    %Incidentally, identifying $G/B$ with the set of all Borel subalgebras of $G$ yields the following
    %easy proof of \textit{(iii)} of Theorem \ref{thm:borel}. $X$ is the subset of the
    %Grassmannian $\Gr(\dim\fr b,\fr g)$ consisting of all solvable Lie subalgebras.
    %Why is being a solvable Lie subalgebra a polynomial condition?\sidenote{Figure this out:
    %    \url{http://math.stackexchange.com/questions/1015974/borel-subalgebras-inside-the-grassmannian}}
\end{remark}

\section{Equivariant sheaves}

Before we discuss equivariant sheaves, it is useful to build some intuition using
the language of equivariant vector bundles.

\subsection{Local triviality}

\begin{definition}
    Let $\pi:E\to X$ be a map of complex algebraic varieties. We say that $\pi$ is \textbf{locally trivial}
    with fiber $F$ (a complex algebraic variety), if there exists an open cover $\{U_i\}_{i\in I}$ of $X$ and isomorphisms
    \[\Phi_i:\pi^{-1}(U_i)\xrightarrow{\sim} U_i\times F.\]
    In particular, we say that $\pi$ is an \textbf{algebraic vector bundle of rank $r$ over $X$}
    if $F=\C^r$, for some $r\in\N$,
    and if for any $i,j\in I$ and any open affine subset $V=\Specm A\subset U_i\cap U_j$, the automorphism
    \[\Phi_{ji}=\Phi_j\circ\Phi_i^{-1}:\C^r\times \Specm A\to\C^r\times \Specm A\]
    is induced by an $A$-linear automorphism 
    \[\Phi_{ji}^\#: A[x_1,\ldots,x_n]\to A[x_1,\ldots,x_n].\]
    We will often write $E_x$ for the fiber $\pi^{-1}(x)=F$ over $x$. A morphism $f$ between $\pi:E\to X$
    and $\pi':E'\to X$ is a commutative diagram
    \begin{equation*}
        \begin{tikzcd}
            E\ar{rr}{f}\ar[swap]{rd}{\pi} & & E'\ar{ld}{\pi'}\\
            & X &
        \end{tikzcd}
    \end{equation*}
    giving us the category $\textsc{Bun}(X)$ of algebraic vector bundles on $X$.
    Finally, for any open $U\subset X$, we write
    \[\Gamma(U,E)= \{s:U\to E\mid \pi\circ s=\id_X\}\]
    for the vector space of (algebraic) sections of the vector bundle $\pi:E\to X$ over $U$.
\end{definition}

\begin{proposition}
    \label{prop:principalBbundle}
    Let $G$ be a reductive linear algebraic group, $B$ a Borel subgroup and $\pi : G \to G/B$ the quotient map. Then
    $\pi$ is locally trivial with fiber $B$.
\end{proposition}

We prove this proposition in the following paragraphs. We first choose a cover of $G$ by the sets $g N^{-} B$, for 
$g \in G$.\sidenote{Sometimes it's more convenient to work at the level of $G$, rather than the quotient $G/B$.
Statements about open sets carry over easily from one to the other, using the universal property of quotient maps.}
The most challenging task is to prove that $g N^{-}B$ is open in $G$. Clearly it suffices to prove this for $g=e$,
because multiplication by $g$ is an isomorphism.

\begin{lemma}
The multiplication $N^- \times B \to G$ maps bijectively onto an open subset of $G$. \sidenote{reference Humphreys p. 174}
\end{lemma}
\begin{proof}
$N^- \cap B = \{e\}$, so the multiplication map is injective. Thus, $\dim N^-B = \dim \fr n^- + \dim \fr b
= \dim \fr g = \dim G$. Moreover, $N^- B$ is the image of a morphism of varieties, so it is constructible. \sidenote{
Reference Humphreys 4.4.} Then we can write
\[	N^-B = \bigcup_{i=1}^k U_i \cap K_i	\]
where $U_i$ are open and $K_i$ are closed in $G$. Assume that no $K_i = G$. Then, since $G$ is irreducible, $\dim U_i \cap
K_i \leq \dim K_i < \dim G$. \sidenote{Reference Hartshorne ex. I.1.10.} But this implies $\dim N^-B < \dim G$, a 
contradiction. So we must have $K_i = G$ for some $i$, say $i=1$. Then $U_1 \subset N^-B$, 
and since open subsets of $G$ are dense in $G$, so is $N^-B$.

Now let $w_0$ be the longest element of the Weyl group $W$. Using $W \cong N(T)/T$, let $g_0$ be a representative
for $w_0$ in $N(T)$; then $g_0^{-1} B g_0 =B^-$. Since $B^- B = (N^- T)B = N^-(TB) = N^- B$,
\[	Bg_0B = g_0 B^- g_0^{-1} g_0 B = g_0 B^- B = g_0 N^- B	\]
i.e. $N^- B$ is isomorphic to the double coset $Bg_0 B$ via multiplication by $g_0$. Hence $Bg_0 B$ is dense in $G$,
and so is $B g_0 \cdot x$ in $G/B$, where $x$ is the image of $B$ under the quotient map. But $B g_0 \cdot x$ is
the orbit under $B$ of $g_0 \cdot x \in G/B$, so by \sidenote{Reference Humphreys 8.3.} it is open in its closure
$G/B$. Therefore $Bg_0 B$ is open in $G$, and so is $N^- B$.
\end{proof}

We can now finish the proof.

\begin{proof}[Proof of Proposition \ref{prop:principalBbundle}]
Note that $\pi^{-1}(N^-B / B) = N^- B$; we prove
that $N^- B \cong N^-B / B \times B$ by constructing an explicit isomorphism. Moreover, the isomorphism will
commute with multiplication by $G$ on the left, which shows that $\pi^{-1}(gN^-B / B) \cong gN^-B / B \times B$
for all $g$. The construction follows from the observation that each $n\in N^-$ is the unique element
of $N^-$ in the preimage $\pi^{-1}(nB/B)$. In other words,
\begin{equation}
\label{uniquen}
\{n\} = N^- \cap \pi^{-1}(nB/B)
\end{equation}
Clearly $\pi^{-1}(nB/B) = nB$, and $N^- \cap B = \{e\}$ shows that $N^- \cap nB = \{n\}$. This observation allows
us to define
\begin{align*}
\phi : N^- B/B \times B &\to N^-B 	\\
(nB/B, b) &\mapsto nb
\end{align*}
without any ambiguity in $n$ on the RHS. $\phi$ is bijective, because we can explicitly write the inverse
\[	nb \mapsto (nB, b)	\]
Again, there is no ambiguity, because every element of $N^-B$ has a unique decomposition $nb$. $\phi$ is a morphism
of varieties because the multiplication map of $G$ is, and $\phi^{-1}$ is a morphism of varieties because each of its
components is:
\[
\begin{tikzcd}
N^-B \arrow{r}{\pi \times p_2} & N^-B/B \times B
\end{tikzcd}
\]
where $p_2(nb) = b$. Therefore $\phi$ is an isomorphism, which finishes the proof that $\pi$ is locally trivial. The
fiber $nB$ above $nB/B$ is isomorphic to $B$ via multiplication by $n$.
\end{proof}

The vector bundles of primary interest to us (especially those used in the proof of the theorem of Borel-Weil-Bott)
will be those equipped with $G$-actions compatible with the $G$-actions on their base spaces.
\begin{definition}
    Let $\pi:E\to X$ be a algebraic vector bundle of rank $r$ and $X$ be equipped with the action of a complex
    linear algebraic group $G$. We say that $\pi$ is a \textbf{$G$-equivariant vector bundle} if 
    we are given an action of $G$ on $E$ such that $g(E_x)=E_{gx}$ and $g:E_x=\C^r\to \C^r=E_{gx}$ is a
    linear isomorphism.
\end{definition}

\begin{remark}
    An algebraic vector bundle $\pi:E\to X$ may have more than one equivariant structure,
    given by the chosen $G$-action on the total space $E$. An equivariant vector bundle should
    therefore be thought of as a vector bundle together with a choice of equivariant structure.
    
    Note that given an equivariant structure on $\pi:E\to X$, we can define a $G$-action on
    global sections as a map $G\times\Gamma(X,E)\to\Gamma(X,E)$ such that
    \begin{equation}
        (gs)(x) = g\left( s(g^{-1}x) \right).
        \label{eq:eqActionSections}
    \end{equation}
    This is an algebraic action by virtue of the $G$-actions on both $E$ and $X$ being algebraic.
\end{remark}

\begin{example}
    Work through the example of $\SL_2\C$ acting on Serre's bundles over $\PP^1$,
    using what we know about the finite-dimensional representations of $\SL_2\C$.
\end{example}

The following lemma shows that the sheaf of sections of an algebraic vector bundle
is locally free.

\begin{lemma}
    Let $\pi:E\to X$ be an algebraic vector bundle of rank $r$. The sheaf of sections of $\pi$,
    call it $\mathcal{E}$, is locally free of rank $r$.
\end{lemma}
\begin{proof}
    We construct a presheaf $\mathcal{E}$ of $\mathcal{O}_X$-modules on $X$ by associating
    to any open $U\subset X$ the $\mathcal{O}_X(U)$-module $\Gamma(U,E)$, with the obvious
    restriction maps.\sidenote{finish} 
\end{proof}

The converse to this lemma is, in fact, true as well -- the next theorem posits that working
with algebraic vector bundles is actually the same as working with locally free sheaves.
This theorem allows us to confuse vector bundles and locally free sheaves of finite rank when convenient.

\begin{theorem}
    The functor taking algebraic vector bundles on $X$ to their sheaves of sections is an
    equivalence of categories between $\textsc{Bun}(X)$ and the full subcategory of $\textsc{Mod}(\mathcal{O}_X)$
    consisting of locally free $\mathcal{O}_X$-modules of finite rank.
\end{theorem}
\begin{proof}
    See Hartshorne, exercise II.5.18. Find a better reference that actually proves the equivalence.
\end{proof}

This equivalence motivates the general definition of equivariant sheaves.

\subsection{Equivariant sheaves}

We now motivate the concept of an equivariant sheaf.\sidenote{reference Chriss/Ginzburg}
We want equivariant sheaves to generalize, in some sense, the concept of invariant functions. Let $X$ be a variety
equipped with an algebraic $G$-action. An invariant function $f: X \to \C$ satisfies $f(x) = f(gx)$ for all $g$.
We rephrase this property using the two natural maps $p_2,\sigma : G\times X \to X$ given by the projection on the second
factor and, respectively, the action of $G$. Then we have
\begin{align*}
\sigma^* f(g,x) &= f\big(\sigma(g,x)\big) = f(gx) \\
p_2^* f(g,x) &= f\big(p_2(g,x)\big) = f(x)
\end{align*}
The invariance of $f$ is therefore equivalent to
\begin{equation}
\label{eq:finv}
\sigma^*f = p_2^*f .
\end{equation}
This formulation has the advantage of using $f$ and
the two canonical maps $\sigma,p_2$ only, without reference to elements of $G$ or $X$.

Moreover, the associativity of the $G$-action gives
\begin{equation}
\label{eq:fassoc}
f\big(g_1(g_2x)\big) = f\big((g_1g_2)x\big)
\end{equation}
This equation can also be rephrased in terms of functions only. Let $m: G\times G \to G$
be the group multiplication; then \ref{eq:fassoc} is equivalent to
\begin{equation}
\label{eq:fcoc}
(\id_G \times \sigma)^* \sigma^* f = (m \times \id_X)^* \sigma^* f
\end{equation}
as functions on $G \times G \times X$. With these concepts as motivation, we define

% TODO be careful to use the notation Mod(O_X) for the categories.
% also introduce the notation in the proper place

\begin{definition}
Let $X$ be a variety equipped with an algebraic $G$-action. A sheaf $\mathcal{F}$ of 
$\mathcal{O}_X$ modules is \textbf{G-equivariant} if the following conditions, analogous 
to \ref{eq:finv} and \ref{eq:fcoc} hold:
\begin{enumerate}[(a)]
\item We are given an isomorphism of sheaves on $G\times X$
\[	\phi : \sigma^* \mathcal{F} \overset{\sim}{\to} p_2^* \mathcal{F}	\]
\item Let $p_{23}:G\times G \times X \to G\times X$ be the projection onto the second
and third factors. The pullbacks of $\phi$ are related by the \textbf{cocycle condition}
\[	p_{23}^* \phi \circ (\id_G \times \sigma)^* \phi = (m \times \id_X)^* \phi	\]
In other words, the following diagram commutes.
\[
\begin{tikzcd}
(m\times 1_X)^*p_2^* \mathcal{F} = p_{23}^* p_2^*\mathcal{F}\arrow{r}{p_{23}^*\phi}\arrow[swap]{dr}{(m\times \id_X)^*\phi}
& p_{23}^* \sigma^* \mathcal{F} = (\id_G \times \sigma)^*p_2^* \mathcal{F}\arrow{d}{(\id_G \times \sigma)^*\phi} \\
& (m\times \id_X)^*\sigma^* \mathcal{F} = (\id_G \times \sigma)^*\sigma^*\mathcal{F}
\end{tikzcd}
\]
\end{enumerate}
\end{definition}

\begin{remark}
$G$-equivariant sheaves are, in some sense, the same as sheaves on the quotient $X/G$. For instance, assume that the 
geometric quotient $X/G$ of the action $\sigma : G\times X \to X$ is well-defined, i.e. that
the orbit space $X/G$ has the structure of an algebraic variety such that:
\begin{enumerate}[(i)]
\item The projection $\pi : X \to X/G$ is a morphism of algebraic varieties and a quotient map in the Zariski topology.
\item For any open $U \in X/G$, $\pi^{\#} : \C[U] \to \C[\pi^{-1}(U)]^G$ is an isomorphism.
\end{enumerate}
Then there is an equivalence of categories between sheaves on $X/G$ and $G$-equivariant sheaves on $X$. We do not
prove this in detail, but give a rough outline, following \sidenote{cite stackexchange answer 
\url{http://math.stackexchange.com/questions/264796/equivariant-sheaves}}. Observe that $\pi \circ
\sigma = \pi \circ p_2$ as maps $G\times X \to X/G$. Let $\mathcal{F} \in \textsc{Sh}(X/G)$, then there is a natural
isomorphism
\[	\sigma^* \pi^* \mathcal{F} \cong p_2^* \pi^* \mathcal{F} \]
Therefore $\pi^* \mathcal{F} \in \textsc{Sh}^G(X)$. Conversely, given $\mathcal{G} \in \textsc{Sh}^G(X)$, $\pi_* 
\mathcal{G} \in \textsc{Sh}(X/G)$. Since $\pi^*$ and $\pi_*$ are adjoint functors, if they are fully faithful then they
induce an equivalence of categories. \sidenote{figure out why they are fully faithful}

Note that a similar statement holds even when the quotient $X/G$ is not a variety. In that case we would need to talk
about quotient schemes or quotient stacks, which is beyond our current scope.
\end{remark}

The following result shows that equivariant sheaves do indeed generalize equivariant vector bundles.

\begin{proposition}
    The functor taking equivariant vector bundles on $X$ to their sheaves of sections
    is an equivalence of categories between $\textsc{Bun}^G(X)$ and the full subcategory of
    $\textsc{Mod}^G(\mathcal{O}_X)$ consisting of locally free equivariant $\mathcal{O}_X$-modules
    of finite rank.
\end{proposition}
\begin{proof}
    Do this.\sidenote{Chriss-Ginzburg p.233}
\end{proof}

We obtain the corresponding action in the setting of equivariant sheaves as follows. First
note that
\begin{align}
    \Gamma(G\times X,p_2^*\mathcal{F}) &= \Gamma(G\times X, p_2^{-1}\mathcal{F}\otimes_{p_2^{-1}\mathcal{O}_X}\mathcal{O}_{G\times X})\nonumber\\
    %&\cong \Gamma\left(G\times X, p_2^{-1}\mathcal{F}\otimes_{p_2^{-1}\mathcal{O}_X}\left(\mathcal{O}_X\otimes_{\C_X}\mathcal{O}_G\right)\right)\\
    &\cong \Gamma(X,\mathcal{F}) \otimes_{\C}\C[G],
    \label{eq:pullbacksheaf}
\end{align}
where $\C[G]=\mathcal{O}_G(G)$.\sidenote{Recall that $G$ is affine.} Now consider the isomorphisms
$\varepsilon_i:G\times X\to G\times X$ for $i=1,2$ given by $(g,x)\mapsto (g,gx)$ and $(g,x)\mapsto(g,g^{-1}x)$, respectively.
Clearly $\varepsilon_1=\varepsilon_2^{-1}$ and $p_2\circ\varepsilon_1=\sigma$. Hence we find that
\begin{align*}
    \Gamma(G\times X,\sigma^*\mathcal{F}) &= \Gamma(G\times X,\varepsilon_1^*p_2^*\mathcal{F})\\
    &\cong \Gamma(G\times X,(\varepsilon_2)_*p_2^*\mathcal{F})\\
    &\cong \Gamma(G\times X,p_2^*\mathcal{F})\\
    &\cong \Gamma(X,\mathcal{F}) \otimes_{\C}\C[G].
\end{align*}
Here we have used the fact that $(\varepsilon_1)_*\varepsilon_1^*p_2\mathcal{F}\cong p_2^*\mathcal{F}$.
Composing this isomorphism with the $G$-equivariant structure
\[\Gamma(G\times X,p_2^*\mathcal{F})\xrightarrow{\sim}\Gamma(G\times X,\sigma^*\mathcal{F}),\]
we obtain a map $\Gamma(X,\mathcal{F})\otimes_\C\C[G]\xrightarrow{\sim}\Gamma(X,\mathcal{F})\otimes_\C\C[G]$.
Denote the restriction of this map to $\Gamma(X,\mathcal{F})\otimes 1$ by
\[\psi:\Gamma(X,\mathcal{F})\to\Gamma(X,\mathcal{F})\otimes_\C\C[G].\]
Finally, if for $s\in\Gamma(X,\mathcal{F})$,
\[\psi(s)=\sum_i s_i\otimes f_i\]
for some $s_i\in\Gamma(X,\mathcal{F}), f_i\in\C[G]$, the $G$-action on $s$ takes $s$ to $gs$,
where
\[gs=\sum_if_i(g)s_i.\]
In particular, this action is algebraic.\sidenote{what does this even mean? how to compare this
to bundles?}

The entire argument above can be repeated, replacing the functor $\Gamma(X,\cdot)$ with
higher cohomologies $\HH^i(X,\cdot)$ and similarly for $\Gamma(G\times X,\cdot)$, given
the following purely algebro-geometric proposition, extending Equation \ref{eq:pullbacksheaf}.

\begin{lemma}
    Let $p_2:G\times X\to X$ be projection onto the second factor and let $\mathcal{F}$ be an
    $\mathcal{O}_X$-module. Then,
    \begin{equation}
        \HH^i(G\times X,p_2^*\mathcal{F}) \cong \HH^i(X,\mathcal{F})\otimes_\C\C[G]
        \label{eq:pullbackcohomology}
    \end{equation}
\end{lemma}
\begin{proof}
    We use the language of cohomology as right derived functors of the global sections functor.
    Suppose we are given an injective resolution $0\to\mathcal{F}\to\mathcal{I}_\bullet$
    (with maps labelled $d^i$).
    Since $p_2$ is a flat map of varieties, the pullback $p_2^*$ is exact, and hence
    the pullback $0\to p_2^*\mathcal{F}\to p_2^*\mathcal{I}_\bullet$ to $G\times X$ is
    an resolution of $p_2^*\mathcal{F}$. Moreover, each $p_2^*\mathcal{I}_i$ is an injective
    $\mathcal{O}_X$-module -- consider the diagram
    \begin{equation}
        \begin{tikzcd}
            0\ar{r} & \mathcal{A}\ar{r}\ar{rd} & \mathcal{B}\ar[dashed]{d}\\
            & & p_2^*\mathcal{\mathcal{I}}_i
        \end{tikzcd}
        \label{eq:injectivepullback}
    \end{equation}
    of $\mathcal{O}_X$-modules, where the row is exact. It suffices to construct the dashed map such that the diagram commutes.
    Taking the direct image $(p_2)_*$ of \ref{eq:injectivepullback}, we obtain, by the left-exactness
    of the direct image,
    \begin{equation}
        \begin{tikzcd}
            0\ar{r} & (p_2)_*\mathcal{A}\ar{r}\ar{rd} & (p_2)_*\mathcal{B}\\
            & & \mathcal{\mathcal{I}}_i
        \end{tikzcd}
        \label{eq:injectivepullback2}
    \end{equation}
    where we have used the  natural isomorphisms given by the adjunction of $p_2^*$ and $(p_2)_*$.
    Here, injectivity of $\mathcal{I}_i$ yields a map $(p_2)_*\mathcal{B}\to \mathcal{I}_i$
    making \ref{eq:injectivepullback2} commute. Taking the pullback of this map and invoking
    the adjunction again, we obtain $\mathcal{B}\to p_2^*\mathcal{I}_i$ making \ref{eq:injectivepullback}
    commute. This proves that $p_2^*\mathcal{I}_i$ is injective.

    The cohomology of $p_2^*\mathcal{F}$ is now computed directly from this pullback resolution.
    Indeed, applying $\Gamma(G\times X,\cdot)$ yields
    \begin{equation*}
        \begin{tikzcd}
            0\ar{r} & \Gamma(G\times X, p_2^*\mathcal{F})\ar[equal]{d}\ar{r}{\Gamma p_2^*f^0} & \Gamma(G\times X, p_2^*\mathcal{I}_1)\ar{r}{\Gamma p_2^*f^1}\ar[equal]{d} & \cdots\\
            0\ar{r} & \Gamma(X, \mathcal{F})\otimes_\C\C[G]\ar{r}{\Gamma d^0\otimes 1} & \Gamma(X,\mathcal{I}_1)\otimes_\C\C[G]\ar{r}{\Gamma d^1\otimes 1} & \cdots
        \end{tikzcd}
    \end{equation*}
    where the horizontal maps in the second row avoid the $\C[G]$ factor, being induced by maps
    of $\mathcal{O}_X$-modules on $X$. Thus, if we write
    \begin{equation*}
        \begin{tikzcd}
            0\ar{r} & \im\Gamma d^i\ar{r} & \ker\Gamma d^{i+1}\ar{r} & \HH^i(X,\mathcal{F})\ar{r} & 0
        \end{tikzcd}
    \end{equation*}
    and tensor on the right by $\C[G]$, we obtain\sidenote{Any module over $\C$ is free and hence tensoring over $\C$ is exact.}
    \begin{equation*}
        \begin{tikzcd}
            0\ar{r} & \im\Gamma d^i\otimes_\C\C[G]\ar{r} & \ker\Gamma d^{i+1}\otimes_\C\C[G]\ar{d}\\
            && \HH^i(X,\mathcal{F})\otimes_\C\C[G]\ar{r} & 0
        \end{tikzcd}
    \end{equation*}
    which yields the cohomology of the second row above. 
    We conclude that $\HH^i(G\times X,p_2^*\mathcal{F})\cong \HH^i(X,\mathcal{F})\otimes_\C\C[G]$.
\end{proof}


\section{Borel--Weil--Bott}
We return to representation theory and to the problem of classifying representations of a semisimple Lie algebra
$\fr g$. We have seen in section \sidenote{enter section} that finite dimensional representations of $\fr g$ are in
bijective correspondence with dominant integral weights of $\fr g$. Moreover, given a finite dimensional representation
$\sigma$ of $\fr g$, we obtain the corresponding weight $\lambda$ of $\fr g$ as the highest weight of $\sigma$.
In this section we make explicit the reverse correspondence: given $\lambda \in \fr g$ dominant integral, we construct
explicitly the finite dimensional representation of highest weight $\lambda$. Following Joseph Taylor \sidenote{cite the
book}, we associate to each $\lambda$ a $G$-equivariant sheaf on the flag variety $X$ of the simply connected Lie group 
with Lie algebra $\fr g$, via a procedure known as induction. The zeroth cohomology
group of this sheaf carries a $\fr g$ action, which is the representation we are looking for. This 
result is the Borel-Weil theorem. The Borel-Weil-Bott theorem is a generalization to weights $\lambda$ that are
integral but not dominant; in this case, the sheaf obtained by induction carries an irreducible representation of $\fr g$
on a higher cohomology group. We begin with the following construction.

Let $(\sigma, Q)$ be a finite dimensional representation of $B$. From $\sigma$ we construct a $G$-equivariant
vector bundle on $X$. \sidenote{This is, in fact, the vector bundle associated to the principal $B$-bundle $G \to X$.} The total space of
this vector bundle is the following quotient of the product variety $G\times Q$:
\begin{equation}
G\times_B Q = G\times Q / \big(g,q\big) \sim \big(gb^{-1} , \sigma(b) q\big)
\end{equation}
This equips $G\times_B Q$ with the quotient topology and the quotient structure sheaf. Let $\pi: G\times Q \to 
G\times_B Q$ and $\rho : G \to X$ be the quotient maps. Then $\rho \circ p_1$ is constant on the fibers of $\pi$,
so there exists a map $\gamma$ which makes the following diagram commute:
\[
\begin{tikzcd}
\; & G \times Q\arrow[swap]{dl}{p_1}\arrow{dr}{\pi} & \\
G\arrow[swap]{dr}{\rho} & & G\times_B Q\arrow[dashed]{dl}{\gamma} \\
 & X & 
\end{tikzcd}
\]

\begin{proposition}
\label{prop:eqvb}
$\gamma : G\times_B Q \to X$ has the structure of a $G$-equivariant vector bundle.
\end{proposition}
\begin{proof}
$G \to X$ is a principal $B$-bundle, so around each $gB/B \in X$ there is an open $V = gN^-B/B$ such that $\rho^{-1}(V) \cong
V \times B$. \sidenote{See Proposition \ref{principalBbundle}} If follows that:
\begin{align*}
\pi^{-1} \big(\gamma^{-1}(V) \big) &= (\gamma \circ \pi)^{-1}(V) \\
&= (\rho \circ p_1)^{-1}(V) \\
&= p_1^{-1} \big(\rho^{-1}(V) \big) \\
&\cong p_1^{-1} (V \times B) \\
&= V \times B \times Q
\end{align*}
But $\pi$ is surjective, so this implies $\gamma^{-1}(V) \cong (V \times B)\times_B Q \cong V \times Q$, which gives a local
trivialization of $G\times_B Q$. Moreover, in the above computation $\rho^{-1}(gB/B) \cong \{gB/B\} \times B$, which shows 
that $\gamma^{-1}(gB/B) = gB \times_B Q$. This is isomorphic to $Q$ via
\[	\psi [gb, q] = \sigma(b) q	\]
The isomorphism is clearly linear, since
\begin{align*}
 \psi \big( [gb_1,q_1] + [gb_2, q_2] \big) &= \psi \big( [g, \sigma(b_1)q_1 + \sigma(b_2)q_2] \big) \\
&= \sigma(b_1)q_1 + \sigma(b_2)q_2 \\
&= \psi [gb_1, q_1] + \psi[gb_2,q_2]
\end{align*}
This makes $G\times_B Q$ a vector bundle over $X$. We define an action of $G$ on $G\times_B Q$ as follows. 
Let $p \in G\times_B Q$ and choose a representative $(g,q) \in \pi^{-1}
(p)$. Then let $h \cdot p = \pi (hg, q)$ for every $h \in G$. To see that the definition does not depend on the choice of
representative, assume that $(g',q') \sim (g,q)$. Then clearly $(hg',q') \sim (hg,q)$, so $\pi(hg',q') = \pi(hg,q)$. Finally
we prove that, equipped with this action, $G\times_B Q \to X$ is $G$-equivariant:
\begin{align*}
\gamma(h \cdot p) &= \gamma \circ \pi (hg, q) \\
&= \rho(hg) \\
&= h \cdot \rho(g) \\
&= h \cdot (\rho \circ p_1)(g,q) \\
&= h \cdot \gamma(p)
\end{align*}
\end{proof}











